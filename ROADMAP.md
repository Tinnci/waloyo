# Waloyo 开发路线图

> **理念**: Waloyo 不仅仅是一个待办清单，而是一个帮助你"战胜挑战"的伙伴。
> 每个任务都是需要被克服的风雨，完成后迎来晴空。

## 当前状态

**版本**: v0.1.0 (开发中)  
**架构**: DDD (Domain-Driven Design)  
**框架**: GPUI (Zed Editor UI Framework)  

### 已完成 ✅
- [x] DDD 架构搭建
- [x] Task 领域模型 (Pending → Completing → Done)
- [x] TaskItem 组件基础渲染
- [x] TaskListView 主视图
- [x] Wind & Rain 主题系统
- [x] Rain Drop 完成动画
- [x] TaskInput 键盘输入
- [x] **Wind Sway 动画** - 待办任务轻微摇摆
- [x] **Clear Sky 庆祝** - 所有任务完成时背景动画
- [x] **本地 JSON 持久化** - ~/.waloyo/tasks.json
- [x] **任务删除** - 基本 CRUD 闭环
- [x] 空状态提示

---

## 阶段规划

### 🌊 Phase 1: 核心体验 (v0.2.0)
**目标**: 完善基础功能，确保核心体验流畅

#### 动画与视觉
- [x] **Wind Sway 动画** - 待办任务轻微摇摆，体现"不安定"感 ✅
- [x] **Clear Sky 庆祝** - 所有任务完成时背景渐变动画 ✅
- [ ] 任务完成音效反馈 (可选)

#### 基础功能完善
- [x] **任务删除** - 删除按钮 ✅
- [ ] **任务编辑** - 点击任务内容进入编辑模式
- [ ] **撤销操作** - Ctrl+Z 撤销上一步操作
- [x] 空状态提示 - 没有任务时显示引导 ✅

#### 数据持久化
- [x] **本地 JSON 存储** - 任务保存到 `~/.waloyo/tasks.json` ✅
- [x] 启动时加载，变更时保存 ✅
- [ ] 数据迁移版本控制

---

### ⛈️ Phase 2: 任务精细化 (v0.3.0)
**目标**: 支持更复杂的任务管理场景

#### 任务属性扩展
- [ ] **截止日期 (Due Date)** - 日期选择器
- [ ] **优先级 (Priority)** - P1/P2/P3 三级，颜色区分
- [ ] **任务备注 (Notes)** - 展开查看详细描述
- [ ] **创建/完成时间戳** - 统计用

#### 组织功能
- [ ] **清单分类 (Lists)** - "工作"、"生活"、"学习"等
- [ ] **标签系统 (Tags)** - 跨清单的灵活分类
- [ ] **搜索功能** - 关键词搜索任务

#### 领域模型升级
```rust
pub struct Task {
    pub id: TaskId,
    pub content: SharedString,
    pub notes: Option<String>,
    pub state: TaskState,
    pub priority: Priority,
    pub due_date: Option<DateTime>,
    pub tags: Vec<String>,
    pub list_id: ListId,
    pub created_at: DateTime,
    pub completed_at: Option<DateTime>,
}
```

---

### 🌤️ Phase 3: 视图与规划 (v0.4.0)
**目标**: 多维度查看任务，辅助时间管理

#### 多种视图
- [ ] **今日视图** - 只显示今天到期的任务
- [ ] **近日视图** - 未来 7 天的任务
- [ ] **日历视图** - 按日期分布展示
- [ ] **已完成归档** - 查看历史完成的任务

#### 智能排序
- [ ] 按截止日期排序
- [ ] 按优先级排序
- [ ] 按创建时间排序
- [ ] 智能排序 (综合多因素)

#### 筛选功能
- [ ] 按清单筛选
- [ ] 按标签筛选
- [ ] 按优先级筛选
- [ ] 逾期任务高亮

---

### 🔄 Phase 4: 重复与提醒 (v0.5.0)
**目标**: 支持周期性任务和时间提醒

#### 重复任务
- [ ] 每日重复
- [ ] 每周重复 (指定星期几)
- [ ] 每月重复
- [ ] 自定义间隔 (每 N 天)

#### 提醒系统
- [ ] 系统通知集成 (Windows Toast)
- [ ] 任务到期提醒
- [ ] 提前提醒设置 (提前 15 分钟/1 小时/1 天)

#### 子任务
- [ ] 任务拆解为多个步骤
- [ ] 子任务进度显示
- [ ] 子任务全部完成后自动完成主任务

---

### ⚡ Phase 5: 快速输入 (v0.6.0)
**目标**: 降低记录门槛，快速捕获想法

#### 快捷输入
- [ ] 全局快捷键呼出输入框
- [ ] 系统托盘快速添加
- [ ] 快捷键操作 (J/K 导航, Enter 完成, D 删除)

#### 智能解析 (NLP)
- [ ] 识别日期: "明天下午3点开会" → 自动设置截止日期
- [ ] 识别优先级: "紧急: 提交报告" → 自动设为 P1
- [ ] 识别标签: "买牛奶 #购物" → 自动添加标签

---

### 🌈 Phase 6: 数据与动力 (v0.7.0)
**目标**: 通过数据洞察和游戏化提升执行力

#### 统计报表
- [ ] 每周完成数量趋势图
- [ ] 任务完成率统计
- [ ] 平均完成时长分析
- [ ] 高峰时段分析

#### 游戏化系统
- [ ] 连续完成天数 (Streak)
- [ ] 等级系统 (根据完成数量升级)
- [ ] 成就徽章
- [ ] "晴空"收集 (每次全部完成获得一个晴天)

#### 专注模式
- [ ] 番茄钟计时器
- [ ] 专注时禁用通知
- [ ] 专注时长统计

---

### ☁️ Phase 7: 同步与协作 (v0.8.0+)
**目标**: 多设备同步和团队协作 (远期)

#### 云同步
- [ ] 账户系统
- [ ] 多设备实时同步
- [ ] 冲突解决策略
- [ ] 离线优先，在线同步

#### 协作功能
- [ ] 共享清单
- [ ] 任务分配
- [ ] 评论讨论
- [ ] 活动日志

---

## 技术债务与优化

### 代码质量
- [ ] 添加单元测试
- [ ] 错误处理优化 (避免 unwrap)
- [ ] 添加日志系统
- [ ] 性能分析与优化

### 用户体验
- [ ] 响应式布局 (窗口大小适配)
- [ ] 键盘无障碍导航
- [ ] 动画可选关闭 (系统偏好)
- [ ] 国际化 (i18n)

### 构建发布
- [ ] Windows 安装包 (.msi)
- [ ] 自动更新机制
- [ ] CI/CD 流水线

---

## 设计原则

### 1. 简约优先
> "少即是多" - 功能可以强大，但界面必须简洁

### 2. 快速输入
> 从想法到记录不超过 3 秒

### 3. 视觉反馈
> 每个操作都有动画反馈，让用户感知到"我在战胜挑战"

### 4. 隐喻一致
> 始终保持 Wind & Rain 的设计语言：
> - 待办 = 风 (动态、不安定)
> - 完成 = 雨落 (释放、转化)
> - 全部完成 = 晴空 (成就、平静)

---

## 里程碑

| 版本 | 里程碑 | 预计完成 |
|------|--------|---------|
| v0.2.0 | 核心体验完善 | Phase 1 |
| v0.3.0 | 任务精细化 | Phase 2 |
| v0.5.0 | 重复与提醒 | Phase 4 |
| v1.0.0 | 正式发布 | Phase 5+ |

---

## 下一步行动 (Immediate)

Phase 1 核心体验已完成！下一步：

1. ✏️ **任务编辑** - 点击编辑任务内容
2. ⏪ **撤销操作** - Ctrl+Z 撤销上一步
3. � **截止日期** - 进入 Phase 2
4. 🏷️ **优先级** - P1/P2/P3 标记

让我们继续 "We Overcome"! 🌈
